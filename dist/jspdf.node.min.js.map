{"version":3,"file":"jspdf.node.min.js","sources":["../src/index.js"],"sourcesContent":["import { jsPDF } from \"jspdf\";\r\n\r\nconst OutputType = {\r\n  Save: \"save\", //save pdf as a file\r\n  DataUriString: \"datauristring\", //returns the data uri string\r\n  DataUri: \"datauri\", //opens the data uri in current window\r\n  DataUrlNewWindow: \"dataurlnewwindow\", //opens the data uri in new window\r\n  Blob: \"blob\", //return blob format of the doc,\r\n  ArrayBuffer: \"arraybuffer\", //return ArrayBuffer format\r\n};\r\n\r\nexport { OutputType, jsPDF };\r\n\r\n/**\r\n *\r\n * @param { {\r\n *  outputType: OutputType | string,\r\n *  returnJsPDFDocObject?: boolean,\r\n *  fileName: string,\r\n *  orientationLandscape?: boolean,\r\n *  compress?: boolean,\r\n *  logo?: {\r\n *      src?: string,\r\n *      width?: number,\r\n *      height?: number,\r\n *      margin?: {\r\n *        top?: number,\r\n *        left?: number\r\n *      }\r\n *   },\r\n *   business?: {\r\n *       name?: string,\r\n *       address?: string,\r\n *       phone?: string,\r\n *       email?: string,\r\n *       email_1?: string,\r\n *       website?: string,\r\n *   },\r\n *   contact?: {\r\n *       label?: string,\r\n *       name?: string,\r\n *       address?: string,\r\n *       phone?: string,\r\n *       email?: string,\r\n *       otherInfo?: string,\r\n *   },\r\n *   invoice?: {\r\n *       label?: string,\r\n *       num?: number,\r\n *       invDate?: string,\r\n *       invGenDate?: string,\r\n *       headerBorder?: boolean,\r\n *       tableBodyBorder?: boolean,\r\n *       header?: string[],\r\n *       table?: any,\r\n *       invTotalLabel?: string,\r\n *       invTotal?: string,\r\n *       invCurrency?: string,\r\n *       invDescLabel?: string,\r\n *       invDesc?: string,\r\n *       row1?: {\r\n *           col1?: string,\r\n *           col2?: string,\r\n *           col3?: string,\r\n *           style?: {\r\n *               fontSize?: number\r\n *           }\r\n *       },\r\n *       row2?: {\r\n *           col1?: string,\r\n *           col2?: string,\r\n *           col3?: string,\r\n *           style?: {\r\n *               fontSize?: number\r\n *           }\r\n *       },\r\n *   },\r\n *   footer?: {\r\n *       text?: string,\r\n *   },\r\n *   pageEnable?: boolean,\r\n *   pageLabel?: string, } } props\r\n */\r\nfunction jsPDFInvoiceTemplate(props) {\r\n  const param = {\r\n    outputType: props.outputType || \"save\",\r\n    returnJsPDFDocObject: props.returnJsPDFDocObject || false,\r\n    fileName: props.fileName || \"\",\r\n    orientationLandscape: props.orientationLandscape || false,\r\n    compress: props.compress || false,\r\n    logo: {\r\n      src: props.logo?.src || \"\",\r\n      width: props.logo?.width || \"\",\r\n      height: props.logo?.height || \"\",\r\n      margin: {\r\n        top: props.logo?.margin?.top || 0,\r\n        left: props.logo?.margin?.left || 0,\r\n      },\r\n    },\r\n    business: {\r\n      name: props.business?.name || \"\",\r\n      address: props.business?.address || \"\",\r\n      phone: props.business?.phone || \"\",\r\n      email: props.business?.email || \"\",\r\n      email_1: props.business?.email_1 || \"\",\r\n      website: props.business?.website || \"\",\r\n    },\r\n    contact: {\r\n      label: props.contact?.label || \"\",\r\n      name: props.contact?.name || \"\",\r\n      address: props.contact?.address || \"\",\r\n      phone: props.contact?.phone || \"\",\r\n      email: props.contact?.email || \"\",\r\n      otherInfo: props.contact?.otherInfo || \"\",\r\n    },\r\n    invoice: {\r\n      label: props.invoice?.label || \"\",\r\n      invTotalLabel: props.invoice?.invTotalLabel || \"\",\r\n      num: props.invoice?.num || \"\",\r\n      invDate: props.invoice?.invDate || \"\",\r\n      invGenDate: props.invoice?.invGenDate || \"\",\r\n      headerBorder: props.invoice?.headerBorder || false,\r\n      tableBodyBorder: props.invoice?.tableBodyBorder || false,\r\n      header: props.invoice?.header || [],\r\n      table: props.invoice?.table || [],\r\n      invTotal: props.invoice?.invTotal || \"\",\r\n      invCurrency: props.invoice?.invCurrency || \"\",\r\n      invDescLabel: props.invoice?.invDescLabel || \"\",\r\n      invDesc: props.invoice?.invDesc || \"\",\r\n      row1: {\r\n        col1: props.invoice?.row1?.col1 || \"\",\r\n        col2: props.invoice?.row1?.col2 || \"\",\r\n        col3: props.invoice?.row1?.col3 || \"\",\r\n        style: {\r\n          fontSize: props.invoice?.row1?.style?.fontSize || 12,\r\n        },\r\n      },\r\n      row2: {\r\n        col1: props.invoice?.row2?.col1 || \"\",\r\n        col2: props.invoice?.row2?.col2 || \"\",\r\n        col3: props.invoice?.row2?.col3 || \"\",\r\n        style: {\r\n          fontSize: props.invoice?.row2?.style?.fontSize || 12,\r\n        },\r\n      },\r\n    },\r\n    footer: {\r\n      text: props.footer?.text || \"\",\r\n    },\r\n    pageEnable: props.pageEnable || false,\r\n    pageLabel: props.pageLabel || \"Page\",\r\n  };\r\n\r\n  const splitTextAndGetHeight = (text, size) => {\r\n    var lines = doc.splitTextToSize(text, size);\r\n    return {\r\n      text: lines,\r\n      height: doc.getTextDimensions(lines).h,\r\n    };\r\n  };\r\n  if (param.invoice.table && param.invoice.table.length) {\r\n    if (param.invoice.table[0].length != param.invoice.header.length)\r\n      throw Error(\"Length of header and table column must be equal.\");\r\n  }\r\n\r\n  const options = {\r\n    orientation: param.orientationLandscape ? \"landscape\" : \"\",\r\n    compress: param.compress\r\n  };\r\n\r\n  var doc = new jsPDF(options);\r\n\r\n  var docWidth = doc.internal.pageSize.width;\r\n  var docHeight = doc.internal.pageSize.height;\r\n\r\n  var colorBlack = \"#000000\";\r\n  var colorGray = \"#4d4e53\";\r\n  //starting at 15mm\r\n  var currentHeight = 15;\r\n  //var startPointRectPanel1 = currentHeight + 6;\r\n\r\n  var pdfConfig = {\r\n    headerTextSize: 20,\r\n    labelTextSize: 12,\r\n    fieldTextSize: 10,\r\n    lineHeight: 6,\r\n    subLineHeight: 4,\r\n  };\r\n\r\n  doc.setFontSize(pdfConfig.headerTextSize);\r\n  doc.setTextColor(colorBlack);\r\n  doc.text(docWidth - 10, currentHeight, param.business.name, \"right\");\r\n  doc.setFontSize(pdfConfig.fieldTextSize);\r\n\r\n  if (param.logo.src) {\r\n    var imageHeader = new Image();\r\n    imageHeader.src = param.logo.src;\r\n    //doc.text(htmlDoc.sessionDateText, docWidth - (doc.getTextWidth(htmlDoc.sessionDateText) + 10), currentHeight);\r\n    doc.addImage(\r\n      imageHeader,\r\n      10 + param.logo.margin.left,\r\n      currentHeight - 5 + param.logo.margin.top,\r\n      param.logo.width,\r\n      param.logo.height\r\n    );\r\n  }\r\n\r\n  doc.setTextColor(colorGray);\r\n\r\n  currentHeight += pdfConfig.subLineHeight;\r\n  currentHeight += pdfConfig.subLineHeight;\r\n  doc.text(docWidth - 10, currentHeight, param.business.address, \"right\");\r\n  currentHeight += pdfConfig.subLineHeight;\r\n  doc.text(docWidth - 10, currentHeight, param.business.phone, \"right\");\r\n  doc.setFontSize(pdfConfig.fieldTextSize);\r\n  // doc.setTextColor(colorGray);\r\n  currentHeight += pdfConfig.subLineHeight;\r\n  doc.text(docWidth - 10, currentHeight, param.business.email, \"right\");\r\n\r\n  currentHeight += pdfConfig.subLineHeight;\r\n  doc.text(docWidth - 10, currentHeight, param.business.email_1, \"right\");\r\n\r\n  currentHeight += pdfConfig.subLineHeight;\r\n  doc.text(docWidth - 10, currentHeight, param.business.website, \"right\");\r\n\r\n  //line breaker after logo & business info\r\n  if (param.invoice.header.length) {\r\n    currentHeight += pdfConfig.subLineHeight;\r\n    doc.line(10, currentHeight, docWidth - 10, currentHeight);\r\n  }\r\n\r\n  //Contact part\r\n  doc.setTextColor(colorGray);\r\n  doc.setFontSize(pdfConfig.fieldTextSize);\r\n  currentHeight += pdfConfig.lineHeight;\r\n  if (param.contact.label) {\r\n    doc.text(10, currentHeight, param.contact.label);\r\n    currentHeight += pdfConfig.lineHeight;\r\n  }\r\n\r\n  doc.setTextColor(colorBlack);\r\n  doc.setFontSize(pdfConfig.headerTextSize - 5);\r\n  if (param.contact.name) doc.text(10, currentHeight, param.contact.name);\r\n\r\n  if (param.invoice.label && param.invoice.num) {\r\n    doc.text(\r\n      docWidth - 10,\r\n      currentHeight,\r\n      param.invoice.label + param.invoice.num,\r\n      \"right\"\r\n    );\r\n  }\r\n\r\n  if (param.contact.name || (param.invoice.label && param.invoice.num))\r\n    currentHeight += pdfConfig.subLineHeight;\r\n\r\n  doc.setTextColor(colorGray);\r\n  doc.setFontSize(pdfConfig.fieldTextSize - 2);\r\n\r\n  if (param.contact.address || param.invoice.invDate) {\r\n    doc.text(10, currentHeight, param.contact.address);\r\n    doc.text(docWidth - 10, currentHeight, param.invoice.invDate, \"right\");\r\n    currentHeight += pdfConfig.subLineHeight;\r\n  }\r\n\r\n  if (param.contact.phone || param.invoice.invGenDate) {\r\n    doc.text(10, currentHeight, param.contact.phone);\r\n    doc.text(docWidth - 10, currentHeight, param.invoice.invGenDate, \"right\");\r\n    currentHeight += pdfConfig.subLineHeight;\r\n  }\r\n\r\n  if (param.contact.email) {\r\n    doc.text(10, currentHeight, param.contact.email);\r\n    currentHeight += pdfConfig.subLineHeight;\r\n  }\r\n\r\n  if (param.contact.otherInfo)\r\n    doc.text(10, currentHeight, param.contact.otherInfo);\r\n  else currentHeight -= pdfConfig.subLineHeight;\r\n  //end contact part\r\n\r\n  //TABLE PART\r\n  //var tdWidth = 31.66;\r\n  //10 margin left - 10 margin right\r\n  var tdWidth = (doc.getPageWidth() - 20) / param.invoice.header.length;\r\n\r\n  //#region TD WIDTH\r\n    if (param.invoice.header.length > 2) { //add style for 2 or more columns\r\n      const customColumnNo = param.invoice.header.map(x => x?.style?.width || 0).filter(x => x > 0);\r\n      let customWidthOfAllColumns = customColumnNo.reduce((a, b) => a + b, 0);\r\n      tdWidth = (doc.getPageWidth() - 20 - customWidthOfAllColumns) / (param.invoice.header.length - customColumnNo.length);\r\n    }\r\n  //#endregion\r\n\r\n  //#region TABLE HEADER BORDER\r\n  var addTableHeaderBorder = () => {\r\n    currentHeight += 2;\r\n    const lineHeight = 7;\r\n    let startWidth = 0;\r\n    for (let i = 0; i < param.invoice.header.length; i++) {\r\n      const currentTdWidth = param.invoice.header[i]?.style?.width || tdWidth;\r\n      if (i === 0) doc.rect(10, currentHeight, currentTdWidth, lineHeight);\r\n      else {\r\n        const previousTdWidth = param.invoice.header[i - 1]?.style?.width || tdWidth;\r\n        const widthToUse = currentTdWidth == previousTdWidth ? currentTdWidth : previousTdWidth;\r\n        startWidth += widthToUse;\r\n        doc.rect(startWidth + 10, currentHeight, currentTdWidth, lineHeight);\r\n      }\r\n    }\r\n    currentHeight -= 2;\r\n  };\r\n  //#endregion\r\n\r\n  //#region TABLE BODY BORDER\r\n  var addTableBodyBorder = (lineHeight) => {\r\n    let startWidth = 0;\r\n    for (let i = 0; i < param.invoice.header.length; i++) {\r\n      const currentTdWidth = param.invoice.header[i]?.style?.width || tdWidth;\r\n      if (i === 0) doc.rect(10, currentHeight, currentTdWidth, lineHeight);\r\n      else {\r\n        const previousTdWidth = param.invoice.header[i - 1]?.style?.width || tdWidth;\r\n        const widthToUse = currentTdWidth == previousTdWidth ? currentTdWidth : previousTdWidth;\r\n        startWidth += widthToUse;\r\n        doc.rect(startWidth + 10, currentHeight, currentTdWidth, lineHeight);\r\n      }\r\n    }\r\n  };\r\n  //#endregion\r\n\r\n  //#region TABLE HEADER\r\n  var addTableHeader = () => {\r\n    if (param.invoice.headerBorder) addTableHeaderBorder();\r\n\r\n    currentHeight += pdfConfig.subLineHeight;\r\n    doc.setTextColor(colorBlack);\r\n    doc.setFontSize(pdfConfig.fieldTextSize);\r\n    //border color\r\n    doc.setDrawColor(colorGray);\r\n    currentHeight += 2;\r\n\r\n    let startWidth = 0;\r\n    param.invoice.header.forEach(function (row, index) {\r\n      if (index == 0) doc.text(row.title, 11, currentHeight);\r\n      else {\r\n        const currentTdWidth = row?.style?.width || tdWidth;\r\n        const previousTdWidth = param.invoice.header[index - 1]?.style?.width || tdWidth;\r\n        const widthToUse = currentTdWidth == previousTdWidth ? currentTdWidth : previousTdWidth;\r\n        startWidth += widthToUse;\r\n        doc.text(row.title, startWidth + 11, currentHeight);\r\n      }\r\n    });\r\n\r\n    currentHeight += pdfConfig.subLineHeight - 1;\r\n    doc.setTextColor(colorGray);\r\n  };\r\n  //#endregion\r\n\r\n  addTableHeader();\r\n\r\n  //#region TABLE BODY\r\n  var tableBodyLength = param.invoice.table.length;\r\n  param.invoice.table.forEach(function (row, index) {\r\n    doc.line(10, currentHeight, docWidth - 10, currentHeight);\r\n\r\n    //get nax height for the current row\r\n    var getRowsHeight = function () {\r\n      let rowsHeight = [];\r\n      row.forEach(function (rr, index) {\r\n        const widthToUse = param.invoice.header[index]?.style?.width || tdWidth;\r\n\r\n        let item = splitTextAndGetHeight(rr.toString(), widthToUse - 1); //minus 1, to fix the padding issue between borders\r\n        rowsHeight.push(item.height);\r\n      });\r\n\r\n      return rowsHeight;\r\n    };\r\n    \r\n    var maxHeight = Math.max(...getRowsHeight());\r\n\r\n    //body borders\r\n    if (param.invoice.tableBodyBorder) addTableBodyBorder(maxHeight + 1);\r\n\r\n    let startWidth = 0;\r\n    row.forEach(function (rr, index) {\r\n      const widthToUse = param.invoice.header[index]?.style?.width || tdWidth;\r\n      let item = splitTextAndGetHeight(rr.toString(), widthToUse - 1); //minus 1, to fix the padding issue between borders\r\n\r\n      if (index == 0) doc.text(item.text, 11, currentHeight + 4);\r\n      else {\r\n        const currentTdWidth = rr?.style?.width || tdWidth;\r\n        const previousTdWidth = param.invoice.header[index - 1]?.style?.width || tdWidth;\r\n        const widthToUse = currentTdWidth == previousTdWidth ? currentTdWidth : previousTdWidth;\r\n        startWidth += widthToUse;\r\n        doc.text(item.text, 11 + startWidth, currentHeight + 4);\r\n      }\r\n    });\r\n\r\n    currentHeight += maxHeight - 4;\r\n\r\n    //td border height\r\n    currentHeight += 5;\r\n\r\n    //pre-increase currentHeight to check the height based on next row\r\n    if (index + 1 < tableBodyLength) currentHeight += maxHeight;\r\n\r\n    if (\r\n      param.orientationLandscape &&\r\n      (currentHeight > 185 ||\r\n        (currentHeight > 178 && doc.getNumberOfPages() > 1))\r\n    ) {\r\n      doc.addPage();\r\n      currentHeight = 10;\r\n      if (index + 1 < tableBodyLength) addTableHeader();\r\n    }\r\n\r\n    if (\r\n      !param.orientationLandscape &&\r\n      (currentHeight > 265 ||\r\n        (currentHeight > 255 && doc.getNumberOfPages() > 1))\r\n    ) {\r\n      doc.addPage();\r\n      currentHeight = 10;\r\n      if (index + 1 < tableBodyLength) addTableHeader();\r\n      //else\r\n      //currentHeight += pdfConfig.subLineHeight + 2 + pdfConfig.subLineHeight - 1; //same as in addtableHeader\r\n    }\r\n\r\n    //reset the height that was increased to check the next row\r\n    if (index + 1 < tableBodyLength && currentHeight > 30)\r\n      // check if new page\r\n      currentHeight -= maxHeight;\r\n  });\r\n  //doc.line(10, currentHeight, docWidth - 10, currentHeight); //if we want to show the last table line \r\n  //#endregion\r\n\r\n  var invDescSize = splitTextAndGetHeight(\r\n    param.invoice.invDesc,\r\n    docWidth / 2\r\n  ).height;\r\n\r\n  //#region PAGE BREAKER\r\n  var checkAndAddPageLandscape = function () {\r\n    if (!param.orientationLandscape && currentHeight + invDescSize > 270) {\r\n      doc.addPage();\r\n      currentHeight = 10;\r\n    }\r\n  }\r\n\r\n  var checkAndAddPageNotLandscape = function (heightLimit = 173) {\r\n    if (param.orientationLandscape && currentHeight + invDescSize > heightLimit) {\r\n      doc.addPage();\r\n      currentHeight = 10;\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  checkAndAddPageNotLandscape();\r\n  checkAndAddPageLandscape();\r\n\r\n  doc.setTextColor(colorBlack);\r\n  doc.setFontSize(pdfConfig.labelTextSize);\r\n  currentHeight += pdfConfig.lineHeight;\r\n\r\n  //#region Line breaker before invoce total\r\n  if (\r\n    param.invoice.header.length &&\r\n    (param.invoice.invTotal ||\r\n      param.invoice.invTotalLabel ||\r\n      param.invoice.invCurrency)\r\n  ) {\r\n    doc.line(docWidth / 2, currentHeight, docWidth - 10, currentHeight);\r\n    currentHeight += pdfConfig.lineHeight;\r\n  }\r\n  //#endregion\r\n\r\n  doc.text(docWidth / 1.5, currentHeight, param.invoice.invTotalLabel, \"right\");\r\n  doc.text(docWidth - 25, currentHeight, param.invoice.invTotal, \"right\");\r\n  doc.text(docWidth - 10, currentHeight, param.invoice.invCurrency, \"right\");\r\n\r\n  //#region row1\r\n  if (\r\n    param.invoice.row1 &&\r\n    (param.invoice.row1.col1 ||\r\n      param.invoice.row1.col2 ||\r\n      param.invoice.row1.col3)\r\n  ) {\r\n    currentHeight += pdfConfig.lineHeight;\r\n    doc.setFontSize(param.invoice.row1.style.fontSize);\r\n\r\n    doc.text(docWidth / 1.5, currentHeight, param.invoice.row1.col1, \"right\");\r\n    doc.text(docWidth - 25, currentHeight, param.invoice.row1.col2, \"right\");\r\n    doc.text(docWidth - 10, currentHeight, param.invoice.row1.col3, \"right\");\r\n  }\r\n  //#endregion\r\n\r\n  //#region row2\r\n  if (\r\n    param.invoice.row2 &&\r\n    (param.invoice.row2.col1 ||\r\n      param.invoice.row2.col2 ||\r\n      param.invoice.row2.col3)\r\n  ) {\r\n    currentHeight += pdfConfig.lineHeight;\r\n    doc.setFontSize(param.invoice.row2.style.fontSize);\r\n\r\n    doc.text(docWidth / 1.5, currentHeight, param.invoice.row2.col1, \"right\");\r\n    doc.text(docWidth - 25, currentHeight, param.invoice.row2.col2, \"right\");\r\n    doc.text(docWidth - 10, currentHeight, param.invoice.row2.col3, \"right\");\r\n  }\r\n  //#endregion\r\n\r\n  checkAndAddPageNotLandscape();\r\n  checkAndAddPageLandscape();\r\n\r\n  doc.setTextColor(colorBlack);\r\n  currentHeight += pdfConfig.subLineHeight;\r\n  currentHeight += pdfConfig.subLineHeight;\r\n  //   currentHeight += pdfConfig.subLineHeight;\r\n  doc.setFontSize(pdfConfig.labelTextSize);\r\n\r\n  //#region Add num of pages at the bottom\r\n  if (doc.getNumberOfPages() > 1) {\r\n    for (let i = 1; i <= doc.getNumberOfPages(); i++) {\r\n      doc.setFontSize(pdfConfig.fieldTextSize - 2);\r\n      doc.setTextColor(colorGray);\r\n\r\n      if (param.pageEnable) {\r\n        doc.text(docWidth / 2, docHeight - 10, param.footer.text, \"center\");\r\n        doc.setPage(i);\r\n        doc.text(\r\n          param.pageLabel + \" \" + i + \" / \" + doc.getNumberOfPages(),\r\n          docWidth - 20,\r\n          doc.internal.pageSize.height - 6\r\n        );\r\n      }\r\n\r\n      checkAndAddPageNotLandscape(183);\r\n      checkAndAddPageLandscape();\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  //#region INVOICE DESCRIPTION\r\n  var addInvoiceDesc = () => {\r\n    doc.setFontSize(pdfConfig.labelTextSize);\r\n    doc.setTextColor(colorBlack);\r\n\r\n    doc.text(param.invoice.invDescLabel, 10, currentHeight);\r\n    currentHeight += pdfConfig.subLineHeight;\r\n    doc.setTextColor(colorGray);\r\n    doc.setFontSize(pdfConfig.fieldTextSize - 1);\r\n\r\n    var lines = doc.splitTextToSize(param.invoice.invDesc, docWidth / 2);\r\n    //text in left half\r\n    doc.text(lines, 10, currentHeight);\r\n    currentHeight +=\r\n      doc.getTextDimensions(lines).h > 5\r\n        ? doc.getTextDimensions(lines).h + 6\r\n        : pdfConfig.lineHeight;\r\n\r\n    return currentHeight;\r\n  };\r\n  addInvoiceDesc();\r\n  //#endregion\r\n\r\n  //#region Add num of first page at the bottom\r\n  if (doc.getNumberOfPages() === 1 && param.pageEnable) {\r\n    doc.setFontSize(pdfConfig.fieldTextSize - 2);\r\n    doc.setTextColor(colorGray);\r\n    doc.text(docWidth / 2, docHeight - 10, param.footer.text, \"center\");\r\n    doc.text(\r\n      param.pageLabel + \"1 / 1\",\r\n      docWidth - 20,\r\n      doc.internal.pageSize.height - 6\r\n    );\r\n  }\r\n  //#endregion\r\n\r\n  let returnObj = {\r\n    pagesNumber: doc.getNumberOfPages(),\r\n  };\r\n\r\n  if (param.returnJsPDFDocObject) {\r\n    returnObj = {\r\n      ...returnObj,\r\n      jsPDFDocObject: doc,\r\n    };\r\n  }\r\n\r\n  if (param.outputType === \"save\") doc.save(param.fileName);\r\n  else if (param.outputType === \"blob\") {\r\n    const blobOutput = doc.output(\"blob\");\r\n    returnObj = {\r\n      ...returnObj,\r\n      blob: blobOutput,\r\n    };\r\n  } else if (param.outputType === \"datauristring\") {\r\n    returnObj = {\r\n      ...returnObj,\r\n      dataUriString: doc.output(\"datauristring\", {\r\n        filename: param.fileName,\r\n      }),\r\n    };\r\n  } else if (param.outputType === \"arraybuffer\") {\r\n    returnObj = {\r\n      ...returnObj,\r\n      arrayBuffer: doc.output(\"arraybuffer\"),\r\n    };\r\n  } else\r\n    doc.output(param.outputType, {\r\n      filename: param.fileName,\r\n    });\r\n\r\n  return returnObj;\r\n}\r\n\r\nexport default jsPDFInvoiceTemplate;\r\n"],"names":["Save","DataUriString","DataUri","DataUrlNewWindow","Blob","ArrayBuffer","props","param","outputType","returnJsPDFDocObject","fileName","orientationLandscape","compress","logo","src","width","height","margin","top","left","business","name","address","phone","email","email_1","website","contact","label","otherInfo","invoice","invTotalLabel","num","invDate","invGenDate","headerBorder","tableBodyBorder","header","table","invTotal","invCurrency","invDescLabel","invDesc","row1","col1","col2","col3","style","fontSize","row2","footer","text","pageEnable","pageLabel","splitTextAndGetHeight","size","lines","doc","splitTextToSize","getTextDimensions","h","length","Error","options","orientation","jsPDF","docWidth","internal","pageSize","docHeight","colorBlack","colorGray","currentHeight","pdfConfig","setFontSize","setTextColor","imageHeader","Image","addImage","line","tdWidth","getPageWidth","customColumnNo","map","x","filter","customWidthOfAllColumns","reduce","a","b","addTableHeader","startWidth","i","currentTdWidth","rect","previousTdWidth","addTableHeaderBorder","setDrawColor","forEach","row","index","title","tableBodyLength","maxHeight","Math","max","rowsHeight","rr","widthToUse","item","toString","push","getRowsHeight","lineHeight","addTableBodyBorder","getNumberOfPages","addPage","invDescSize","checkAndAddPageLandscape","checkAndAddPageNotLandscape","heightLimit","setPage","addInvoiceDesc","returnObj","pagesNumber","jsPDFDocObject","save","blobOutput","output","blob","dataUriString","filename","arrayBuffer"],"mappings":"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"}